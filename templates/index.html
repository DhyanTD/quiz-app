<!DOCTYPE html>
<html>

<head>
    <title>Home Page</title>
    <link rel="stylesheet" href="static/common.css">
	<link rel="stylesheet" type="text/css" href="static/index.css">	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Love+Ya+Like+A+Sister&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-lg">
        <div class="container">
            <a class="navbar-brand" href="/">AJPUC Exams</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                {% if session.logged_in %}
                <li class="nav-item ">
                    <a href="/dashboard" class="nav-link">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a href="/logout" class="nav-link">Logout</a>
                </li>
                {% else %}
                <li class="nav-item">
                    <a href="/register" class="nav-link">Register</a></li>
                <li class="nav-item">
                    <a href="/login" class="nav-link">Login</a>
                </li>
                {% endif %}
            </ul>
            </div>
        </div>
    </nav>

<!-- <div class="container-fluid ">

	<div class="container" align="right">
		<img src="static/home.png" id="icon">
		
	</div>
	<rs-layer-wrap class="rs-parallax-wrap" style="position: absolute; display: block; pointer-events: auto; left: 14px; top: 325px; z-index: 6; visibility: visible;" >
		<rs-loop-wrap style="position:absolute;display:block;">
			<rs-mask-wrap style="position: absolute; display: block; visibility: visible; overflow: visible;">
				<rs-layer id="yyy" class="WebProduct-Title rs-layer" data-type="text" data-rsp_ch="on" data-xy="x:l,c,c,l;xo:17px,-304px,0,-3px;y:m,m,m,t;yo:-138px,-193px,-283px,58px;" data-text="w:nowrap,nowrap,normal,normal;s:50,40,51,45;l:60,48,60,52;a:left,left,center,left;" data-dim="w:auto,auto,639px,100%;" data-basealign="slide" data-padding="r:0,0,0,15;l:0,0,0,15;" data-frame_0="x:-50px;tp:600;" data-frame_1="tp:600;e:Power2.easeOut;st:1000;sp:1000;sR:1000;" data-frame_999="o:0;tp:600;e:Power4.easeIn;st:w;sp:1500;sR:7000;" style="z-index: 6; font-family: Roboto; visibility: visible; text-align: left; line-height: 50px; letter-spacing: 0px; font-weight: 300; font-size: 42px; border-color: rgb(136, 136, 136); border-style: none; margin: 0px; border-radius: 0px; padding: 0px; color: rgb(255, 255, 255); text-decoration: none; white-space: nowrap; width: auto; height: auto; min-height: 0px; min-width: 0px; max-height: none; max-width: none; opacity: 1; transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform-origin: 50% 50% 0px;" data-idcheck="true" data-stylerecorder="true" data-initialised="true">
				<p id="tagline">Explore the Test Preparation <br>exclusively made for you</p> 
				<p id="tag">"Easy to use exam portal let's you design<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any kind of exam from very basic to complex"</p>
				</rs-layer>
			</rs-mask-wrap>
		</rs-loop-wrap>
	</rs-layer-wrap>

</div>

<div class="container" id="welcome" align="center">
	<p>Welcome to <span>ExamBuzz </span>!!</p>
</div>

<div class="container" align="center" id="features">
	<div class="row">
		<div class="col-sm-4">
			<img src="static/easy.png">
			<p>
				<b>Easy to Learn and Use </b><br>One-stop-destination for<br> examination,preparation,<br>recruitment,and more.<br>
				Specially designed online<br> examination system to<br> solve all your preparation <br>worries.
			</p>
		</div>
		<div class="col-sm-4">
			<img src="static/interactive.png">
			<p>
				<b>Highly Interactive Interface </b><br>A click to the next trick,<br>simple registration,easy test<br>and quiz creation,signing-in,<br>synchronized processing,<br>secured encoding<br>and decoding of <br>information and more.
			</p>
		</div>
		<div class="col-sm-4">
			<img src="static/interaction.png">
			<p>
				<b>Active Accessbility</b><br>Go wherever you want<br> to and practice whenever<br> you want,using the next<br> level online exam<br> platform.Create and assign<br> tests and quiz from<br> anywhere at any time.
			</p>
		</div>
	</div>	
</div>

<div class="grid12-6">

<img src="static/background.jpg">
<div class="inner_box">
  <p>Ready to get Started?? It's Free!!</p>
  <a class="btn btn-primary" href="/register" style="font-size: 1.2em; background-color:#6a63dd">Sign Up Now</a>
</div>

</div>


<footer id="sticky-footer" class="py-4 bg-dark text-white-50">
    <div class="container text-center">
      <small>Copyright &copy; ExamBuzz</small>
    </div>
</footer> -->
<!-- <img src="{{ url_for('video_feed') }}" width="50%"> -->

<video id="stream" width="300" height="300">
	<canvas id="capture" width="300" height="300">
	</canvas>
</video>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


<script>

	var stream = document.getElementById("stream");
	var capture = document.getElementById("capture");
	var cameraStream = null;
	var array = null;
	var values = 0;
	var length = null;

	function startStreaming() {

			var mediaSupport = 'mediaDevices' in navigator;
			navigator.getUserMedia = navigator.getUserMedia ||
    		navigator.webkitGetUserMedia ||
    		navigator.mozGetUserMedia;

			if (mediaSupport && null == cameraStream) {

				navigator.mediaDevices.getUserMedia({ video: true })
					.then(function (mediaStream) {

						cameraStream = mediaStream;

						stream.srcObject = mediaStream;

						stream.play();
					})
					.catch(function (err) {

						console.log("Unable to access camera: " + err);
					});
			}
			else {

				alert('Your browser does not support media devices.');

				return;
			}
		}
		function stopStreaming() {
  
  if( null != cameraStream ) {
	var track = cameraStream.getTracks()[ 0 ];
	track.stop();
	stream.load();
	cameraStream = null;
  }
}
	function captureSnapshot() {
		var width=320;
		var height=320;
		if (null != cameraStream) {
			var ctx = capture.getContext('2d');
			var img = new Image();
			ctx.drawImage(stream, 0, 0, width,height);
			// img.src = capture.toDataURL("image/png");
			// img.width = 340;
			var d1 = capture.toDataURL("image/png");
			// var res = capture.toDataURL("image/webp");
			var res = d1.replace("data:image/png;base64,", "");
			// var res =res1.toDataURL();
			console.log(res)
			// var average = values / length;

			// console.log(average)
			// console.log(Math.round(average - 40));

			if (1) {
				$.post("/video_feed", {
					data: { 'imgData': res }},
					function (data) {
						console.log(data);
					});
			}

		}
		setTimeout(captureSnapshot, 9000);

	} 

	window.onload = function()  {
		startStreaming();
		captureSnapshot();
	}
</script>

</body>
</html> 